
1. 사용자가 쿠폰 이벤트 참여를 신청한다.
2. LB는 WAS 둘중 하나로 로드밸런싱한다.
3. WAS는 우선 1번 Redis로 요청을 해서 사용자의 중복 참여 여부를 검증한다.
	3-1. 사용자가 참여여부 관련해서 쿠키값이 세팅되어 있으면 중복참여 바로 반환, 그렇지 않으면 3-2.
	3-2. 사용자 중복 참여 여부 검증은 Redis bitmap 사용
4. 주기적으로 인메모리 큐에 쌓여 있던 참여 데이터들을 Redis 큐로 옮긴다. (우선순위큐)
	결정 포인트 : 어떤 식으로 하면 효율적일지
5. 당첨자 선정


**Redis bitmap을 사용한 이유**
1. 메모리 절약 가능
2. 사용자 몰려봤자 1000명 정도인데 충분히 커버 가능하다 생각


**사용자가 21억 이상 초과하면 중복 참여 어떻게 처리**

1. Redis Set
2. Redis BitMap 여러개

BitMap에 대한 번호를 해싱해서 하면 되지 않을까
예를 들면 0번 BitMap, 1번 BitMap이면 Integer.Max_Value
초과하는 건 몫은 0번 BitMap으로 향하게끔하고 나머지는 BitMap의 offset으로 하면 되지 않을까
 