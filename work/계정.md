따로 계정 ID를 주는 방식으로 사용하면 괜찮을 수도?

계정과목 체계 (Chart of Accounts, COA)


CREATE TABLE account_titles (
    acct_id        SERIAL PRIMARY KEY,       -- 내부 식별자
    acct_code      VARCHAR(20) UNIQUE,       -- 계정 코드 (회사별 COA 코드)
    acct_name      VARCHAR(100) NOT NULL,    -- 계정과목명 (예: 대출, 예수금 등)
    acct_type      VARCHAR(20) NOT NULL,     -- 5대 구분: 자산/부채/자본/수익/비용
    acct_subtype   VARCHAR(50),              -- 세부 분류 (예: 단기금융, OCI, PL, 충당금 등)
    currency_type  VARCHAR(10) DEFAULT 'KRW',-- 통화 구분: 'KRW', 'USD', 'JPY', 'MULTI'
    is_active      BOOLEAN DEFAULT TRUE,     -- 사용 여부
    remark         TEXT,                     -- 비고
    created_at     TIMESTAMP DEFAULT now(),  -- 생성일시
    updated_at     TIMESTAMP DEFAULT now()   -- 수정일시
);


### as is
계정 종류가 너무 많음

(파생/상품 이름처럼 **계정이라기보다 “종목/속성”**에 가까운 것들은 맨 아래에 따로 뺐습니다.)

# 자산 (Assets)

- **현금·예금/단기금융**: 현금계정, 보통예금, 정기예금, 정기적금, MMF, MMDA, CMA, MMT, MMW, RP, RUF, 해외정기예금, 해외정기적금, 국내선물거래예치금, 해외선물거래예치금
    
- **대여·미수·선급**: 대여금, 미수금, 미수이자, 미수배당, 미수수익(자기분), 미수수익(타인분), 미수이자(자기분), 미수이자(타인분), 선급비용, 선급법인세, 선급법인세(지방소득세), 청약증거금
    
- **유가증권/투자자산 분류**: 유가증권, 수익증권, 상장주식, 비상장, 주식형, 채권형, 혼합주식형, 혼합채권형, 해외주식, 해외채권, 해외펀드, PEF, ETF, 해외ETF, FVPL, FVOCI, 만기보유, 매도가능, 매매목적, 당기손익인식(=FVTPL), 당기손익인식지정
    
- **기타자산**: 부동산, 부동산담보(담보표시지만 실무상 별도계정 쓰기도), 자산운용(내부관리용 계정일 수 있음)
    

> ※ **대손충당금, 미수대손충당금**은 자산차감계정(Contra-asset)으로 아래에 따로 표기.

# 부채 (Liabilities)

- **지급·미지급/예수·선수**: 미지급금, 미지급금[가계정], 미지급비용, 미지급비용 발행채권, 예수금(원천세), 예수금(지방세), 선수수익, 선수이자, 가수금
    
- **차입/사채/발행증권**: 차입금, 지급이자 차입금(비용계정이지만 라벨상 혼재되어 있어 주의), 발행채권, 이자비용 발행채권(비용계정—아래 비용에도 표기), 교환사채, 전환사채, 사모사채, 보증사채, 옵션부사채, 무보증사채, 신주인수권부사채, 회사채, 자산유동화채
    
- **기타**: 지급보증(보증충당부채로 표현되기도), 공정가액위험회피·현금흐름위험회피(헤지지정—표시범주, 자체가 부채는 아님)
    

# 자본 (Equity)

- 이익잉여금(처분이익), 이익잉여금(처분손실), 신종자본, 신종자본증권
    
- 자본조정 관련 표시: 평가이익(자본조정), 평가손실(자본조정), 외화환산이익(자본조정), 외화환산손실(자본조정)
    

# 수익 (Revenue/Gain)

- 이자수익, 수입수수료, 배당금수익, 연체이자, 잡이익, 외환차익
    
- 처분이익, 평가이익(PL), 파생상품평가이익(PL), 파생상품정산이익(OCI)※, 외화환산이익(PL)
    
- 대출수입수수료, 조기상환수수료, 대손충당금환입, 미수대손충당금환입, 감액손실환입
    

> ※ OCI표시 항목(예: 파생상품정산이익(OCI))은 엄밀히는 **기타포괄손익(OCI)**이지만, 실무상 수익·손실 성격으로 분류 표시됩니다.

# 비용 (Expense/Loss)

- 이자비용 발행채권, 지급이자, 지급수수료, 제세공과금, 증권거래세
    
- 대손상각비, 미수대손상각비, 감액손실, 평가손실(PL), 외환차손, 잡손실, 처분손실
    
- 대출지급수수료, 미인출약정수수료
    

# 자산차감/충당 (Contra & Allowance)

- 대손충당금, 미수대손충당금
    

# 가계정/임시계정 (Suspense/Clearing)

- 가계정, 미수금[가계정], 미지급금[가계정]
    

---

## ⚠️ “상품/속성명” 성격이 강한 것 (계정과목이라기보다 종목·시장·속성 표지)

아래는 보통 **계정과목 이름 그 자체**라기보다는, 포지션/상품의 **종류·속성·발행주체**(또는 시장)로 쓰이는 용어들입니다. 실제 분개/장부에서는 “파생상품자산/부채”, “단기매매증권” 등의 **상위 계정** 아래에서 **종목코드/세부속성**으로 관리되는 편이에요.

- **발행/기관·은행·시장 라벨**: 경남, 광주, 국내, 국민, 기업, 기타, 농협, 신한, 씨티, 우리, 원화, 외화, 해외, 코스닥, KEB하나, 우체국, 공채, 국채, 공사채, 국공채, 회사채, 특수채, 금융채, 통안채
    
- **통화/금융속성**: 통화, 원화대출, 외화대출, FX
    
- **주식/채권 세부**: 주식, 채권, 주식기타, 주식형, 채권형, 상장, 비상장
    
- **파생·헤지·지수·선물·옵션(종목명)**: 파생, 스왑션, 장외옵션, 개별주식옵션, 주식옵션, 주식선물, 주가지수, 주가지수선물, 주가지수옵션, 채권선도, 통화선물, 통화옵션, 국채선물, 국채옵션, 미국채선물, 미국채옵션, CRS, IRS, 통화간 이자 스왑(CRS)
    
- **구조화/신종/기타 상품명**: 구조화예금(외화/원화/해외), 신종유가증권, 이익참가부사채, 파생결합사채, 자산유동화채, 뮤추얼펀드, PEF
    
- **공정가액/현금흐름 위험회피**: 공정가액위험회피, 현금흐름위험회피(헤지지정 범주로서 **표시/속성**)
    

---

### 메모

- `FVPL / FVOCI / 만기보유 / 매도가능 / 매매목적 / 당기손익인식(지정)` 등은 **분류/측정범주**로, 실무에선 **계정과목명**과 조합해 씁니다(예: “FVPL-단기매매증권”).
    
- `파생상품평가손익(PL)`, `…정산손익(OCI)` 등은 **손익/OCI 표시계정**으로 적합.
    
- 기관명·시장명(예: “국채”, “회사채”, “코스닥”)은 보통 **종목 식별자**로 쓰고, 장부계정은 “국공채(FVOCI)”처럼 **상위 계정 + 속성**으로 관리합니다.
